{"remainingRequest":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/babel-loader/lib/index.js!/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/src/components/Dashboard/Views/Custom/loginMiddleWare.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/src/components/Dashboard/Views/Custom/loginMiddleWare.vue","mtime":1665119838498},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/babel.config.js","mtime":1664168527737},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1664435185541},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/babel-loader/lib/index.js","mtime":1664435185750},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1664435185541},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/vue-loader/lib/index.js","mtime":1664435186048}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3ZpZGlndW1teS93b3Jrc3BhY2UvUmFpbk1ha2VyL1NSQy9Gcm9udEVuZF9BUEkvdnVlLXBhcGVyLWRhc2hib2FyZC0yLXByby12Mi40LjAvdnVlLXBhcGVyLWRhc2hib2FyZC0yLXByby12Mi40LjAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvdmlkaWd1bW15L3dvcmtzcGFjZS9SYWluTWFrZXIvU1JDL0Zyb250RW5kX0FQSS92dWUtcGFwZXItZGFzaGJvYXJkLTItcHJvLXYyLjQuMC92dWUtcGFwZXItZGFzaGJvYXJkLTItcHJvLXYyLjQuMC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgTG9hZGluZ01haW5QYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvRGFzaGJvYXJkL0xheW91dC9Mb2FkaW5nTWFpblBhbmVsIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdNYWluUGFuZWw6IExvYWRpbmdNYWluUGFuZWwKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldENvb2tpZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0Q29va2llOiBmdW5jdGlvbiBzZXRDb29raWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29kZSwgc3RhdGUsIHJlc3BvbnNlLCBqd3RUb2tlbjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb2RlID0gX3RoaXMuJHJvdXRlLnF1ZXJ5LmNvZGU7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF90aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZTsKCiAgICAgICAgICAgICAgICBpZiAoISghY29kZSB8fCAhc3RhdGUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJxdWVyeSBpcyBub3QgaW5pdCIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvZGUsIHN0YXRlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICB1cmw6IF90aGlzLmN1c3RvbS5kZWZhdWx0VVJMICsgIi9sb2dpbi9vYXV0aDIvY29kZS9naXRodWI/Y29kZT0iLmNvbmNhdChjb2RlLCAiJnN0YXRlPSIpLmNvbmNhdChzdGF0ZSkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBqd3RUb2tlbiA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU0VTU0lPTklEIiwgand0VG9rZW4pOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gIlNFU1NJT05JRD0iICsgand0VG9rZW4gKyAiO3BhdGg9LyI7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShfdGhpcy5jdXN0b20ubXlVUkwpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi66Gc6re47J24IOyXkOufrC4g64uk7Iuc7Iuc64+EIiwgX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s2LCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;AAMA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,OAJA,qBAIA;IACA;EACA,CANA;EAOAC;IACAC,SADA,uBACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEAC;gBACAC;;gBAHA,MAKA,eALA;kBAAA;kBAAA;gBAAA;;gBAMAC;gBANA;;cAAA;gBAUAA;gBAVA;gBAAA;gBAAA,OAYAC;kBACAC,aADA;kBAEAC;gBAFA,EAZA;;cAAA;gBAYAC,QAZA;gBAgBAC,QAhBA,GAgBAD,aAhBA;gBAkBAJ;gBACAM;gBACAC;gBApBA;gBAAA;;cAAA;gBAAA;gBAAA;gBAsBAP;;cAtBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAwBA;EAzBA;AAPA","names":["components","LoadingMainPanel","created","methods","setCookie","code","state","console","axios","method","url","response","jwtToken","document","window"],"sourceRoot":"src/components/Dashboard/Views/Custom","sources":["loginMiddleWare.vue"],"sourcesContent":["<template>\n  <div>\n    <loading-main-panel></loading-main-panel>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport LoadingMainPanel from \"@/components/Dashboard/Layout/LoadingMainPanel\";\n\nexport default {\n  components :{\n    LoadingMainPanel\n  },\n  created() {\n    this.setCookie();\n  },\n  methods : {\n    async setCookie() {\n      let code, state;\n      code = this.$route.query.code;\n      state = this.$route.query.state;\n\n      if(!code || !state) {\n        console.error(\"query is not init\");\n        return;\n      }\n\n      console.log(code, state);\n      try {\n        const response = await axios({\n          method: \"get\",\n          url: this.custom.defaultURL + `/login/oauth2/code/github?code=${code}&state=${state}`\n        });\n        const jwtToken = response.data;\n\n        console.log(\"SESSIONID\", jwtToken);\n        document.cookie = \"SESSIONID=\" + jwtToken + \";path=/\";\n        window.location.replace(this.custom.myURL);\n      } catch (e) {\n        console.error(\"로그인 에러. 다시시도\", e);\n      }\n    }\n  }\n}\n</script>\n"]}]}