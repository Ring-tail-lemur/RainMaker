{"remainingRequest":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/src/components/Dashboard/Views/Custom/loginMiddleWare.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/src/components/Dashboard/Views/Custom/loginMiddleWare.vue","mtime":1665119838498},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1664435185541},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/babel-loader/lib/index.js","mtime":1664435185750},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1664435185541},{"path":"/Users/vidigummy/workspace/RainMaker/SRC/FrontEnd_API/vue-paper-dashboard-2-pro-v2.4.0/vue-paper-dashboard-2-pro-v2.4.0/node_modules/vue-loader/lib/index.js","mtime":1664435186048}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBMb2FkaW5nTWFpblBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9EYXNoYm9hcmQvTGF5b3V0L0xvYWRpbmdNYWluUGFuZWwiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHMgOnsKICAgIExvYWRpbmdNYWluUGFuZWwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldENvb2tpZSgpOwogIH0sCiAgbWV0aG9kcyA6IHsKICAgIGFzeW5jIHNldENvb2tpZSgpIHsKICAgICAgbGV0IGNvZGUsIHN0YXRlOwogICAgICBjb2RlID0gdGhpcy4kcm91dGUucXVlcnkuY29kZTsKICAgICAgc3RhdGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZTsKCiAgICAgIGlmKCFjb2RlIHx8ICFzdGF0ZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoInF1ZXJ5IGlzIG5vdCBpbml0Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhjb2RlLCBzdGF0ZSk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7CiAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgdXJsOiB0aGlzLmN1c3RvbS5kZWZhdWx0VVJMICsgYC9sb2dpbi9vYXV0aDIvY29kZS9naXRodWI/Y29kZT0ke2NvZGV9JnN0YXRlPSR7c3RhdGV9YAogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGp3dFRva2VuID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgY29uc29sZS5sb2coIlNFU1NJT05JRCIsIGp3dFRva2VuKTsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiU0VTU0lPTklEPSIgKyBqd3RUb2tlbiArICI7cGF0aD0vIjsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh0aGlzLmN1c3RvbS5teVVSTCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLroZzqt7jsnbgg7JeQ65+sLiDri6Tsi5zsi5zrj4QiLCBlKTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["loginMiddleWare.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginMiddleWare.vue","sourceRoot":"src/components/Dashboard/Views/Custom","sourcesContent":["<template>\n  <div>\n    <loading-main-panel></loading-main-panel>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport LoadingMainPanel from \"@/components/Dashboard/Layout/LoadingMainPanel\";\n\nexport default {\n  components :{\n    LoadingMainPanel\n  },\n  created() {\n    this.setCookie();\n  },\n  methods : {\n    async setCookie() {\n      let code, state;\n      code = this.$route.query.code;\n      state = this.$route.query.state;\n\n      if(!code || !state) {\n        console.error(\"query is not init\");\n        return;\n      }\n\n      console.log(code, state);\n      try {\n        const response = await axios({\n          method: \"get\",\n          url: this.custom.defaultURL + `/login/oauth2/code/github?code=${code}&state=${state}`\n        });\n        const jwtToken = response.data;\n\n        console.log(\"SESSIONID\", jwtToken);\n        document.cookie = \"SESSIONID=\" + jwtToken + \";path=/\";\n        window.location.replace(this.custom.myURL);\n      } catch (e) {\n        console.error(\"로그인 에러. 다시시도\", e);\n      }\n    }\n  }\n}\n</script>\n"]}]}